= render partial: 'errors/error_summary', locals:{ ep: @provider, error_summary: t('.prohibited_save')}

= render partial: 'layouts/header', locals: {page_heading: 'Edit provider details'}

.body-content
  = form_for [:external_users, :admin, @provider], html: { novalidate: true } do |f|
    %fieldset
      %legend
        = 'Provider details'
      .form-group
        = f.label :name, t('.provider_name'), class: "form-label"
        = validation_error_message(@provider, :name)
        = f.text_field :name, class: "form-control"

      - if @provider.firm?
        .form-group
          = f.label :supplier_number, t('.supplier_number'), class: "form-label"
          = f.text_field :supplier_number, class: "form-control"
          = validation_error_message(@provider, :supplier_number)

      - if @provider.firm?
        .form-group
          = f.label :vat_registered, class: "form-label"
          .form-group.inline
            =f.collection_radio_buttons(:vat_registered, [true, false], :to_s, :to_s) do |b|
              - b.label(class: 'block-label') { b.radio_button + (b.value.to_s == 'true' ? 'Yes' : 'No') }

      .form-group
        = f.label :api_key, t('.api_key'), class: "form-label"
        = @provider.api_key

      .form-group
        = f.submit 'Save', class: "button"
