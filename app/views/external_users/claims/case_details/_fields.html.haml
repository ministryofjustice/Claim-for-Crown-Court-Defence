.form-section{ id: @claim.form_step }
  - if @claim.agfs? && @external_user.admin?
    = render partial: 'external_users/claims/case_details/advocate_fields', locals: { f: f }

  = f.adp_text_field :providers_ref, label: t('common.external_user.providers_ref'), errors: @error_presenter, hint_text: t('common.external_user.providers_ref_hint')

  - if @claim.requires_case_type?

    #cc-case-type.form-group{ class: error_class?(@error_presenter, :case_type) ? 'form-group-error dropdown_field_with_errors' : '' }
      %label.form-label-bold{ for: 'case_type' }
        = t('.case_type')
        .form-hint.xsmall.zero-vert-margin
          = t('.case_type_hint')
        = validation_error_message(@error_presenter, :case_type)

      = f.select :case_type_id, @case_types.map{ |ct| [ct.name, ct.id, { data: { 'is-fixed-fee': ct.is_fixed_fee?, 'requires-cracked-dates': ct&.requires_cracked_dates?, 'requires-retrial-dates': ct&.requires_retrial_dates?, 'requires-trial-dates': ct&.requires_trial_dates? } }] }, { include_blank: ''.html_safe }, { class: 'form-control fx-autocomplete', id: 'case_type', 'aria-label': t('.case_type') }

  #cc-court.form-group{ class: error_class?(@error_presenter, :court) ? 'form-group-error dropdown_field_with_errors' : '' }
    %label.form-label-bold{ for: 'court' }
      = t('.court')
      .form-hint.xsmall.zero-vert-margin
        = t('.court_hint')
      = validation_error_message(@error_presenter, :court)

    = f.collection_select :court_id, Court.alphabetical, :id, :name, { include_blank: ''.html_safe }, { class: 'form-control fx-autocomplete', id: 'court', 'aria-label': t('.court') }


  = f.adp_text_field :case_number,
    label: t('.case_number'),
    hint_text: t('.case_number_hint'),
    errors: @error_presenter

  - if @claim.hardship?
    = render partial: 'external_users/claims/case_details/trial_started_question_fields', locals: { f: f }

  = render partial: 'external_users/claims/case_details/transfer_court_question_fields', locals: { f: f }

- if @claim.agfs? && !@claim.interim?
  = render partial: 'external_users/claims/case_details/cracked_trial_fields', locals: { f: f }
  = render partial: 'external_users/claims/case_details/trial_detail_fields', locals: { f: f }
  = render partial: 'external_users/claims/case_details/retrial_detail_fields', locals: { f: f }

- if @claim.requires_case_concluded_date?
  .form-row
    .form-col.form-col-two-thirds.case-concluded-date
      = render partial: 'external_users/claims/case_details/case_concluded_date', locals: { f: f }
