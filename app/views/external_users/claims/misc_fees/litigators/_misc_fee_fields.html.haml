%tbody.misc-fee-group
  %tr.nested-fields

    %td
      %a{name: "misc_fee_#{@misc_fee_count}_fee_type"}
      - misc_fee_types_collection = present_collection(@claim.eligible_misc_fee_types)
      = f.select :fee_type_id, misc_fee_types_collection.map {|fee| [fee.description, fee.id, { data: fee.data_attributes }]}, {include_blank: 'Please select'}, {class: 'select2 js-misc-fee-type', style: 'width:350px'}
      = validation_error_message(@error_presenter, "misc_fee_#{@misc_fee_count}_fee_type")

    %td
      %a{name: "misc_fee_#{@misc_fee_count}_case_numbers"}
      = f.text_field :case_numbers, {class: 'form-control js-misc-fee-case-numbers', style: 'width:150px'}
      = validation_error_message(@error_presenter, "misc_fee_#{@misc_fee_count}_case_numbers")

    %td
      %div.pound-wrapper
        %a{name: "misc_fee_#{@misc_fee_count}_amount"}
        = f.text_field :amount, value: number_with_precision(f.object.amount, precision: 2), class: 'form-control rate', size: 10, maxlength: 8
      = validation_error_message(@error_presenter, "misc_fee_#{@misc_fee_count}_amount")

    %td.remove-misc-fee
      = link_to_remove_association t('.remove'), f, { wrapper_class: 'misc-fee-group' }
