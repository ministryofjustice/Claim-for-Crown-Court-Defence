#transfer-fee
  = f.fields_for :transfer_fee do |tf|
    .fx-fee-group.transfer-fee-group.js-block.fx-do-init{ data: { 'type': 'transferFees', autovat: @claim.apply_vat? ? 'true' : 'false' } }

      .js-fee-calculator-effector
        = tf.govuk_text_field :fee_type_id,
          class: 'js-fee-type',
          label: { hidden: true },
          type: 'hidden',
          value: @claim.transfer_fee.fee_type.id

      - unless @claim.transfer_detail.elected_case?

        - if @claim.transfer_detail.days_claimable?
          .js-fee-calculator-effector
            = f.govuk_number_field :actual_trial_length,
              class: 'js-fee-calculator-days',
              label: { text: t('.actual_trial_length') },
              min: 0,
              width: 'one-quarter'

        .js-fee-calculator-effector
          = tf.govuk_number_field :quantity,
            class: 'quantity fee-quantity js-fee-calculator-ppe',
            label: { text: t('.quantity') },
            value: number_with_precision(tf.object.quantity, precision: 0),
            width: 'one-quarter'

      .js-graduated-price-effectee
        .calculated-grad-fee
        = tf.govuk_number_field :amount,
          class: 'total fee-amount',
          label: { text: t('.amount') },
          min: 0,
          prefix_text: 'Â£',
          value: number_with_precision(tf.object.amount, precision: 2),
          width: 'one-quarter'

      .js-fee-calculator-success
        = tf.govuk_text_field :price_calculated,
          label: { hidden: true },
          type: 'hidden',
          value: tf.object.price_calculated?

      .fee-calc-help-wrapper.hidden
        = govuk_detail t('.help_how_we_calculate_amount_title') do
          = t('.help_how_we_calculate_amount_body')
