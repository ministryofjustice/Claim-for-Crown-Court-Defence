- if user_signed_in?
  %nav#primary-nav{:role =>'navigation'}
    - if current_user.persona.is_a?(SuperAdmin)
      = link_to 'Manage providers', super_admins_providers_path, class: cp(super_admins_providers_path)
      = link_to 'Add a provider', new_super_admins_provider_path, class: cp(new_super_admins_provider_path)
    - elsif current_user.persona.is_a?(ExternalUser)
      = link_to "#{current_user.persona.admin? ? 'All' : 'Your'} claims", external_users_root_path, class: cp(external_users_root_path)
      = link_to "Archive", archived_external_users_claims_path, title: "View archived claims", class: cp(archived_external_users_claims_path)
      - if Rails.host.api_sandbox?
        = link_to "API Documentation", api_landing_page_path, class: cp(api_landing_page_path)
      = link_to t('link.add_claim'), new_external_users_claim_path, title: "Start a new claim", class: cp(new_external_users_claim_path)
      - if current_user.persona.admin?
        = link_to 'Manage users', external_users_admin_external_users_path, class: cp(external_users_admin_external_users_path)
        = link_to "Manage provider", external_users_admin_provider_path(current_user.persona.provider), class: cp(external_users_admin_provider_path(current_user.persona.provider))
    - elsif current_user.persona.is_a?(CaseWorker)
      - if current_user.persona.admin?
        = link_to 'Your claims', case_workers_claims_path(params.except(:controller, :action, :id, :search, :sort, :direction).merge(tab: 'current')), class: cp( case_workers_claims_path(params.except(:controller, :action).merge(tab: 'current')))
        = link_to 'Archive',     archived_case_workers_claims_path(params.except(:controller, :action, :id, :search, :sort, :direction).merge(tab: 'archived')), class: cp(archived_case_workers_claims_path(params.except(:controller, :action).merge(tab: 'archived')))
        = link_to "Allocation", case_workers_admin_allocations_path(params.except(:controller, :action, :filter, :id, :search, :sort, :direction).merge(tab: 'unallocated')), class: cp(case_workers_admin_allocations_path(params.except(:controller, :action, :filter, :search).merge(tab: 'unallocated')))
        = link_to "Re-allocation", case_workers_admin_allocations_path(params.except(:controller, :action, :filter, :id, :search, :sort, :direction).merge(tab: 'allocated')), class: cp(case_workers_admin_allocations_path(params.except(:controller, :action, :filter, :search).merge(tab: 'allocated')))
        = link_to 'Manage case workers', case_workers_admin_case_workers_path, class: cp(case_workers_admin_case_workers_path)
        = link_to 'Management information', case_workers_admin_management_information_path, class: cp(case_workers_admin_management_information_path)
      - else
        = link_to 'Your claims', case_workers_claims_path(params.except(:controller, :action, :id, :sort, :direction).merge(tab: 'current')), class: cp(case_workers_claims_path(params.except(:controller, :action).merge(tab: 'current')))
        = link_to 'Archive',     archived_case_workers_claims_path(params.except(:controller, :action, :id, :sort, :direction).merge(tab: 'archived')), class: cp(archived_case_workers_claims_path(params.except(:controller, :action).merge(tab: 'archived')))
    - else
      = "Error"
  = render partial: 'layouts/user'
