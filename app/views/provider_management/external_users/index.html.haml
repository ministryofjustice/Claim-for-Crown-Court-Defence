= content_for :page_title, flush: true do
  = t('.page_title', provider_name: @provider.name)

= content_for :v2_stylesheets do
  = stylesheet_link_tag "v2/application", media: "all"

= render partial: 'layouts/header', locals: {page_heading: t('.page_heading')}

.grid-row.clear-float
  = link_to t('.add_provider'), new_provider_management_provider_external_user_path(@provider), class: 'button right'

%table{summary: t('.table_summary', provider_name: @provider.name)}
  %caption
    %h2.heading-medium.left
      = t('.caption', provider_name: @provider.name)
  %thead
    %th{scope: 'col'}
      = t('.name')
    %th{scope: 'col'}
      = t('.supplier_number')
    %th{scope: 'col'}
      = t('.email')
    %th{scope: 'col'}
      = t('.state')
  %tbody
    - @external_users.each do |advocate|
      %tr
        %td{scope: 'row'}
          = advocate.active? ? link_to(advocate.name, provider_management_provider_external_user_path(@provider, advocate), title: t('.view_details', text: advocate.name )) : advocate.name
        %td
          = advocate.supplier_number
        %td
          = mail_to advocate.email, advocate.email, {title: t('.title', provider: advocate.name)}
        %td
          = advocate.active? ? t('.live')  : t('.inactive')
