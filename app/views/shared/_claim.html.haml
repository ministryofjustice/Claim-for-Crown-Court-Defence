- if claim.certification.present?
  = render partial: 'shared/certification', locals: { claim: claim }


%div

  - if claim.case_workers.any? && CaseWorker === current_user.persona && current_user.persona.admin?
    .basic-info-row
      .column-quarter
        .b
          = t ('.assignee')
        .xsmall
          = claim.case_worker_names

  .basic-info-row
    .column-quarter
      .b
        = t("common.external_user.#{@claim.external_user_type}")
      .xsmall
        = claim.external_user.name
    .column-quarter
      - if @claim.agfs?
        .b
          = t("common.external_user.category.#{@claim.external_user_type}")
        .xsmall
          = claim.advocate_category
    .column-quarter
      .b
        = t("common.external_user.account_number.#{@claim.external_user_type}")
      .xsmall
        = claim.supplier_number
    .column-quarter
      &nbsp;

  .basic-info-row
    .column-quarter
      .b
        = t('common.crown_court')
      .xsmall
        = claim.court.name if claim.court
    .column-quarter
      .b
        =t('.case_num')
      .xsmall
        = claim.case_number
        %span.unique-id-small= claim.unique_id

  - if claim.transfer_court.present?
    .basic-info-row
      .column-quarter
        .b
          = t('common.transfer_court')
        .xsmall
          = claim.transfer_court.name
      .column-quarter
        .b
          = t('common.transfer_case_number')
        .xsmall
          = claim.transfer_case_number

  .basic-info-row
    .column-quarter
      .b
        = t('.case_type')
      .xsmall
        = claim.case_type.try(:name)
    - if claim.agfs?
      .column-quarter
        .b
          = t('.offence')
        .xsmall
          = claim.offence ? claim.offence.description : t('general.not_provided')
    .column-half
      .b
        = t('.offence_class')
      .xsmall
        = claim.offence ? claim.offence.offence_class : t('general.not_provided')

  - if claim.agfs? && claim.case_type.present? && claim.requires_cracked_dates?
    = render partial: 'shared/claim_cracked_trial_details', locals: { claim: claim }

  - if claim.case_type && claim.case_concluded_at
    = render partial: 'shared/claim_case_concluded_at_details', locals: { claim: claim }

  - if claim.interim? && !claim.interim_fee.nil?
    = render partial: 'shared/claim_interim_details', locals: { claim: claim }

  - if claim.transfer?
    = render partial: 'shared/claim_transfer_details', locals: { claim: claim }

  - if claim.case_type && claim.requires_trial_dates?
    = render partial: 'shared/claim_trial_details', locals: { claim: claim }

  - if claim.case_type && claim.requires_retrial_dates?
    = render partial: 'shared/claim_retrial_details', locals: { claim: claim }

  - if claim.defendants.any?
    = render partial: 'shared/claim_defendants', locals: {defendants: claim.defendants }
  - else
    = "No defendant details have been supplied for this claim."
