- if current_user.persona.is_a?(CaseWorker)
  - open_messages_url = messages_case_workers_claim_path(claim)
  - message_controls_url = show_message_controls_case_workers_claim_path(claim)
- else
  - open_messages_url = messages_external_users_claim_path(claim)
  - message_controls_url = show_message_controls_external_users_claim_path(claim)

.messages-container
  .messages-list
    = render partial: 'shared/history_items_list', locals: {claim: claim }
  .messages-print-link
    = link_to t('.print_messages'), open_messages_url, target: '_blank'
  .message-status
    = "Status:"
    %span.message-success
    %span.message-error
  - if (current_user.persona.is_a?(CaseWorker) || (current_user.persona.is_a?(ExternalUser) && claim.rejected? == false && claim.draft? == false)) && claim.archived_pending_delete? == false
    .js-controls.message-controls{"data-auth-url" => message_controls_url }
      = render partial: "shared/message_controls", locals: {message: @message }
